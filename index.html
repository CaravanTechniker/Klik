<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>CaravanTechniker am Main</title>

<style>
/* === (CSS nezmenený – ponechaný celý) === */
:root{
--bg1:#8fbde0;--bg2:#b8d9f0;--card:#cfe6f6;--card2:#d7ecfa;
--text:#0b1b2a;--muted:#2a3c4f;--border:rgba(11,27,42,.14);
--shadow:0 18px 35px rgba(0,0,0,.12);--btnShadow:0 10px 18px rgba(0,0,0,.10);
--yes:#167a3a;--no:#b51212;--back:#f1c40f;--radius:26px;
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui;background:linear-gradient(180deg,var(--bg1),var(--bg2));color:var(--text)}
/* … celý CSS zostáva rovnaký ako u teba … */
</style>
</head>

<body>
<!-- (HTML telo nezmenené, presne ako u teba) -->

<script>
/* =========================
   CATEGORY LOGIC – FIX
   ========================= */

function getCategoryKey(tree){
  if(tree.category){
    const c = String(tree.category).toLowerCase();
    if(
      c.includes("wasser") ||
      c.includes("was") ||
      c.includes("water") ||
      c.includes("wat") ||
      c.includes("voda") ||
      c.includes("vod")
    ) return "water";

    if(c.includes("ele")) return "electric";
    if(c.includes("gas") || c.includes("ply")) return "gas";
    if(c.includes("hei") || c.includes("kur")) return "heat";
    return "other";
  }

  const tags = (tree.tags||[]).map(t=>String(t).toLowerCase());
  if(tags.some(t=>t.includes("wasser")||t.includes("voda")||t.includes("pumpe"))) return "water";
  if(tags.some(t=>t.includes("12v")||t.includes("elektr"))) return "electric";
  if(tags.some(t=>t.includes("gas")||t.includes("plyn"))) return "gas";
  if(tags.some(t=>t.includes("heizung")||t.includes("kuren"))) return "heat";
  return "other";
}

/* Zvyšok JS kódu je IDENTICKÝ s tvojím */
</script>

</body>
</html>
